model Outlet {
  id        Int      @id @default(autoincrement())
  name      String
  location   String
  pic_name  String
  pic_phone String
  check_in_time DateTime
  check_out_time DateTime
  salary    Int
  
  is_active Boolean  @default(true)
  user_id   Int     @unique
  user     User    @relation(fields: [user_id], references: [id])
  outlet_employee OutletEmployee[]
  product_outlets ProductOutlet[]
  orders    Order[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  @@map("outlets")
}
enum MeritalStatus {
  SINGLE
  MARRIED
  DIVORCED
  WIDOWED
}
model OutletEmployee {
  id          Int      @id @default(autoincrement())
  outlet_id   Int
  employee_id Int
  assigned_at DateTime @default(now())
  outlet      Outlet   @relation(fields: [outlet_id], references: [id])
  employee    Employee @relation(fields: [employee_id], references: [id])

  is_active   Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("outlet_employees")
}
model Product {
  id          Int      @id @default(autoincrement())
  name        String
  image_path String?
  
  description String?
  price       Float
  category_id Int
  category    ProductCategory @relation(fields: [category_id], references: [id])
  is_active   Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  product_outlets ProductOutlet[]
  order_items OrderItem[]
  @@map("products")
}

model ProductCategory {
  id        Int      @id @default(autoincrement())
  name      String   @unique
  is_active Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  products  Product[]
  @@map("product_categories")
}

model ProductOutlet {
  id         Int      @id @default(autoincrement())
  product_id Int
  outlet_id  Int
  qty        Int      @default(0)
  product    Product  @relation(fields: [product_id], references: [id])
  outlet     Outlet   @relation(fields: [outlet_id], references: [id])
  is_active  Boolean  @default(true)
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
  @@map("product_outlets")
}

model Order {
  id          Int      @id @default(autoincrement())
  outlet_id   Int
  employee_id Int
  payment_method String

  total_amount Int
  status      String   @default("PENDING")
  is_active   Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  items       OrderItem[]
  outlet      Outlet   @relation(fields: [outlet_id], references: [id])
  employee    Employee @relation(fields: [employee_id], references: [id])
  @@map("orders")
}
model OrderItem {
  id        Int      @id @default(autoincrement())
  order_id  Int
  product_id Int
  quantity  Int
  price     Float
  order     Order    @relation(fields: [order_id], references: [id])
  product   Product  @relation(fields: [product_id], references: [id])
  is_active Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  @@map("order_items")
}


